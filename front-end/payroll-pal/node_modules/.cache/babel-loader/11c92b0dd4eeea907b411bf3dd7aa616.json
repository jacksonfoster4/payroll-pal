{"ast":null,"code":"import _defineProperty from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import Header from'./Header';import Greeting from'./Greeting';import EntriesList from'./EntriesList';import PayrollPalClient from'../payroll-pal-client';import{Redirect}from'react-router-dom';import AuthContext from'../AuthContext';var CoreContext=React.createContext({});var Core=/*#__PURE__*/function(_React$Component){_inherits(Core,_React$Component);function Core(){var _getPrototypeOf2;var _this;_classCallCheck(this,Core);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Core)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,error:null,message:null,setMessage:function setMessage(value){_this.setState({message:value});},setError:function setError(value){_this.setState({error:value});},setEntries:function setEntries(value){_this.setState({entries:value});},setPayRate:function setPayRate(value){_this.setState({payRate:value});},setPayPeriodStart:function setPayPeriodStart(value){_this.setState({payPeriodStart:value});},setPayPeriodEnd:function setPayPeriodEnd(value){_this.setState({payPeriodEnd:value});},setTotalHours:function setTotalHours(value){_this.setState({totalHours:value});},setLoading:function setLoading(value){_this.setState({loading:value});},approveAll:function approveAll(){PayrollPalClient.approveAll(_this.state.payPeriodStart,_this.state.payPeriodEnd).then(function(result){_this.setState(result);_this.setState({allApproved:true});});},setFirstName:function setFirstName(value){_this.setState({firstName:value});},setState:function setState(values){_this.setState(_objectSpread({},values));}};return _this;}_createClass(Core,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.state.message||this.state.error){var self=this;setTimeout(function(){self.setState({error:null,message:null});},3000);}}},{key:\"render\",value:function render(){if(this.state.error401){return React.createElement(Redirect,{to:{pathname:'/login',state:{error:\"Whoops! You'll need to login again!\"}}});}else{return React.createElement(CoreContext.Provider,{value:this.state},React.createElement(\"div\",{className:\"App\"},React.createElement(Header,null),React.createElement(\"div\",{className:\"App-body\"},this.state.message?React.createElement(\"div\",{className:\"alert mx-4 alert-success\",role:\"alert\"},this.state.message):React.createElement(\"div\",null),this.state.error?React.createElement(\"div\",{className:\"alert mx-4 alert-danger\",role:\"alert\"},this.state.error):React.createElement(\"div\",null),React.createElement(\"div\",null,React.createElement(\"div\",{className:this.state.loading?'':\"d-none\"},\" \",React.createElement(\"h5\",{className:\"display-4\"},\"Loading...\")),React.createElement(\"div\",{className:this.state.loading?'d-none':\"\"},React.createElement(Greeting,null),React.createElement(EntriesList,null))))));}}}]);return Core;}(React.Component);export default(function(props){return React.createElement(AuthContext.Consumer,null,function(context){return React.createElement(Core,Object.assign({context:context},props));});});export{CoreContext};","map":{"version":3,"sources":["/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/src/CoreComponents/Core.js"],"names":["React","Header","Greeting","EntriesList","PayrollPalClient","Redirect","AuthContext","CoreContext","createContext","Core","state","loading","error","message","setMessage","value","setState","setError","setEntries","entries","setPayRate","payRate","setPayPeriodStart","payPeriodStart","setPayPeriodEnd","payPeriodEnd","setTotalHours","totalHours","setLoading","approveAll","then","result","allApproved","setFirstName","firstName","values","self","setTimeout","error401","pathname","Component","props","context"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from './Header';\nimport Greeting from './Greeting';\nimport EntriesList from './EntriesList'\nimport PayrollPalClient from '../payroll-pal-client';\nimport { Redirect } from 'react-router-dom'\nimport AuthContext from '../AuthContext';\n\nconst CoreContext = React.createContext({})\n\nclass Core extends React.Component {\n  \n  state = {\n    loading: true,\n    error: null,\n    message: null,\n    setMessage: (value) => {\n      this.setState({ message: value })\n    },\n    setError: (value) => {\n      this.setState({ error: value })\n    },\n    setEntries: (value) => {\n      this.setState({ entries: value })\n    },\n    setPayRate: (value) => {\n        this.setState({ payRate: value })\n    },\n\n    setPayPeriodStart: (value) => {\n      this.setState({ payPeriodStart: value })\n    },\n\n    setPayPeriodEnd: (value) => {\n      this.setState({ payPeriodEnd: value })\n    },\n\n    setTotalHours: (value) => {\n      this.setState({ totalHours: value })\n    },\n\n    setLoading: (value) => {\n      this.setState({loading: value })\n    },\n\n    approveAll: () => {\n      PayrollPalClient.approveAll(this.state.payPeriodStart, this.state.payPeriodEnd).then( \n        (result) => {\n          this.setState(result)\n          this.setState({ allApproved: true })\n        }\n      )\n    },\n    setFirstName: (value) => {\n      this.setState({ firstName: value })\n    },\n    setState: (values) => {\n      this.setState({ ...values })\n    }\n  }\n  \n  componentDidUpdate(){\n    if(this.state.message || this.state.error) {\n      let self = this\n      setTimeout(\n        function(){ \n          self.setState({\n            error: null,\n            message: null\n          }); \n      }, 3000);\n    }\n  }\n\n  render(){\n    if(this.state.error401){\n      return <Redirect to={{\n        pathname: '/login',\n        state: { error: \"Whoops! You'll need to login again!\" }\n    }} />\n    }\n    else {\n      return (\n        <CoreContext.Provider value={this.state}>\n          <div className=\"App\">\n            <Header />\n            <div className=\"App-body\">  \n\n            { this.state.message ?  \n              <div className=\"alert mx-4 alert-success\" role=\"alert\">\n                { this.state.message }\n              </div> : <div></div> } \n              \n              { this.state.error ?  \n              <div className=\"alert mx-4 alert-danger\" role=\"alert\">\n                { this.state.error }\n              </div> : <div></div> } \n\n              <div>\n               <div className={ this.state.loading ? '': \"d-none\" }> <h5 className=\"display-4\">Loading...</h5></div>\n              <div className={ this.state.loading ? 'd-none': \"\" }>\n                <Greeting />\n                <EntriesList />\n              </div>\n              </div>\n              \n            </div> \n          </div>\n        </CoreContext.Provider>\n      );\n    }\n  }\n}\n\nexport default (props) => (\n  <AuthContext.Consumer>\n   { (context) => { return <Core context={context} {...props } /> } }\n  </AuthContext.Consumer>\n);\nexport { CoreContext };"]},"metadata":{},"sourceType":"module"}