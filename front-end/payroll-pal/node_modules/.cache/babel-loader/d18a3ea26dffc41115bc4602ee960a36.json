{"ast":null,"code":"import _classCallCheck from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./css/App.css';import Login from'./LoginComponents/Login';import Core from'./CoreComponents/Core';import AuthContext from'./AuthContext';import ProtectedRoute from'./CoreComponents/ProtectedRoute';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import PayrollPalClient from'./payroll-pal-client';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={isAuthenticated:false,authenticate:function authenticate(){return PayrollPalClient.getIsAuthenticated().then(function(result){_this.setState({isAuthenticated:result});return result;});},authToken:function authToken(){return PayrollPalClient.getAuthToken();},logout:function logout(){PayrollPalClient.logout();_this.setState({isAuthenticated:false});}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){if(PayrollPalClient.getAuthToken()){this.state.authenticate();}}},{key:\"render\",value:function render(){return React.createElement(AuthContext.Provider,{value:this.state},React.createElement(Router,null,React.createElement(Switch,null,React.createElement(ProtectedRoute,{path:\"/core\",component:Core}),React.createElement(Route,{path:[\"/login\",\"/\"],component:Login}))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/src/App.js"],"names":["React","Login","Core","AuthContext","ProtectedRoute","BrowserRouter","Router","Route","Switch","PayrollPalClient","App","state","isAuthenticated","authenticate","getIsAuthenticated","then","result","setState","authToken","getAuthToken","logout","Component"],"mappings":"iwBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,gBAAP,KAA6B,sBAA7B,C,GAEMC,CAAAA,G,+XACJC,K,CAAQ,CACNC,eAAe,CAAE,KADX,CAGNC,YAAY,CAAE,uBAAM,CAClB,MAAOJ,CAAAA,gBAAgB,CAACK,kBAAjB,GAAsCC,IAAtC,CACL,SAACC,MAAD,CAAY,CACV,MAAKC,QAAL,CAAc,CACZL,eAAe,CAAEI,MADL,CAAd,EAGA,MAAOA,CAAAA,MAAP,CACH,CANM,CAAP,CAOD,CAXK,CAaNE,SAAS,CAAE,oBAAM,CACf,MAAOT,CAAAA,gBAAgB,CAACU,YAAjB,EAAP,CACD,CAfK,CAiBNC,MAAM,CAAE,iBAAM,CACZX,gBAAgB,CAACW,MAAjB,GACA,MAAKH,QAAL,CAAc,CACZL,eAAe,CAAE,KADL,CAAd,EAGD,CAtBK,C,4FA0BW,CACjB,GAAGH,gBAAgB,CAACU,YAAjB,EAAH,CAAmC,CACjC,KAAKR,KAAL,CAAWE,YAAX,GACD,CACF,C,uCAEO,CACN,MACE,qBAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,KAAKF,KAAlC,EACE,oBAAC,MAAD,MACE,oBAAC,MAAD,MACE,oBAAC,cAAD,EAAgB,IAAI,CAAC,OAArB,CAA6B,SAAS,CAAET,IAAxC,EADF,CAEE,oBAAC,KAAD,EAAO,IAAI,CAAE,CAAC,QAAD,CAAW,GAAX,CAAb,CAA8B,SAAS,CAAED,KAAzC,EAFF,CADF,CADF,CADF,CAUD,C,iBA5CeD,KAAK,CAACqB,S,EA+CxB,cAAeX,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport './css/App.css';\nimport Login from './LoginComponents/Login'\nimport Core from './CoreComponents/Core';\nimport AuthContext from './AuthContext'\nimport ProtectedRoute from './CoreComponents/ProtectedRoute'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport PayrollPalClient from './payroll-pal-client';\n\nclass App extends React.Component {\n  state = {\n    isAuthenticated: false,\n\n    authenticate: () => {\n      return PayrollPalClient.getIsAuthenticated().then( \n        (result) => {\n          this.setState({\n            isAuthenticated: result\n          })\n          return result\n      })\n    },\n\n    authToken: () => {\n      return PayrollPalClient.getAuthToken()\n    },\n\n    logout: () => {\n      PayrollPalClient.logout();\n      this.setState({\n        isAuthenticated: false\n      })\n    },\n\n  }\n\n  componentDidMount(){\n    if(PayrollPalClient.getAuthToken()){\n      this.state.authenticate()\n    }\n  }\n\n  render(){\n    return(\n      <AuthContext.Provider value={this.state}>\n        <Router>\n          <Switch>\n            <ProtectedRoute path=\"/core\" component={Core} />\n            <Route path={[\"/login\", \"/\"]} component={Login} />\n          </Switch>\n        </Router> \n      </AuthContext.Provider>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}