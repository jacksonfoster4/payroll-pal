{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import\"../css/Login.css\";import'../css/App.css';import{withRouter}from'react-router-dom';import PayrollPalClient from'../payroll-pal-client';import AuthContext from'../AuthContext';var LoginForm=/*#__PURE__*/function(_React$Component){_inherits(LoginForm,_React$Component);function LoginForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var username,password,loggedIn;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();username=document.getElementById(\"username\").value;password=document.getElementById(\"password\").value;_context.next=5;return PayrollPalClient.login({username:username,password:password});case 5:loggedIn=_context.sent;if(loggedIn){_this.props.context.authenticate();_this.props.history.push(\"/core\");}case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"pt-4 login-form\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-12\"}),React.createElement(\"div\",{className:\"p-4 login-form-container\"},React.createElement(\"h1\",{className:\"\"},\"Login\"),React.createElement(\"form\",{id:\"form\",onSubmit:this.login},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"pt-3 col-12\"},React.createElement(\"input\",{className:\"mb-4 pt-mono\",id:\"username\",type:\"text\",placeholder:\"Username\"})),React.createElement(\"div\",{className:\"col-12\"},React.createElement(\"input\",{className:\"pt-mono\",id:\"password\",type:\"password\",placeholder:\"Password\"}))),React.createElement(\"button\",{type:\"submit\",className:\"btn px-3 mt-4 pt-mono pill btn-orange\"},\"Login\")))));}}]);return LoginForm;}(React.Component);export default withRouter(function(props){return React.createElement(AuthContext.Consumer,null,function(context){return React.createElement(LoginForm,Object.assign({context:context},props));});});","map":{"version":3,"sources":["/Users/jacksonfoster/Code/projects/payroll-pal/front-end/payroll-pal/src/LoginComponents/LoginForm.js"],"names":["React","withRouter","PayrollPalClient","AuthContext","LoginForm","login","e","preventDefault","username","document","getElementById","value","password","loggedIn","props","context","authenticate","history","push","Component"],"mappings":"4iCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kBAAP,CACA,MAAO,gBAAP,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uBAA7B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,GAEMC,CAAAA,S,uZAEFC,K,0FAAQ,iBAAOC,CAAP,iJACJA,CAAC,CAACC,cAAF,GAEIC,QAHA,CAGWC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAH/C,CAIAC,QAJA,CAIWH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAJ/C,uBAKiBT,CAAAA,gBAAgB,CAACG,KAAjB,CAAuB,CAACG,QAAQ,CAAEA,QAAX,CAAqBI,QAAQ,CAAEA,QAA/B,CAAvB,CALjB,QAKAC,QALA,eAOJ,GAAGA,QAAH,CAAa,CACT,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,YAAnB,GACA,MAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,EACH,CAVG,sD,0IAaA,CACJ,MACI,4BAAK,SAAS,CAAC,iBAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,QAAf,EADJ,CAGI,2BAAK,SAAS,CAAC,0BAAf,EACA,0BAAI,SAAS,CAAC,EAAd,UADA,CAEI,4BAAM,EAAE,CAAC,MAAT,CAAgB,QAAQ,CAAE,KAAKb,KAA/B,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,aAAf,EACI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,EAAE,CAAC,UAAnC,CAA8C,IAAI,CAAC,MAAnD,CAA0D,WAAW,CAAC,UAAtE,EADJ,CADJ,CAII,2BAAK,SAAS,CAAC,QAAf,EACI,6BAAO,SAAS,CAAC,SAAjB,CAA2B,EAAE,CAAC,UAA9B,CAAyC,IAAI,CAAC,UAA9C,CAAyD,WAAW,CAAC,UAArE,EADJ,CAJJ,CADJ,CASI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,uCAAhC,UATJ,CAFJ,CAHJ,CADJ,CADJ,CAuBH,C,uBAvCmBL,KAAK,CAACmB,S,EA0C9B,cAAelB,CAAAA,UAAU,CAAC,SAACa,KAAD,QACtB,qBAAC,WAAD,CAAa,QAAb,MAEQ,SAACC,OAAD,QAAa,qBAAC,SAAD,gBAAW,OAAO,CAAEA,OAApB,EAAiCD,KAAjC,EAAb,EAFR,CADsB,EAAD,CAAzB","sourcesContent":["import React from 'react';\nimport \"../css/Login.css\"\nimport '../css/App.css';\nimport { withRouter } from 'react-router-dom'\nimport PayrollPalClient from '../payroll-pal-client'\nimport AuthContext from '../AuthContext';\n\nclass LoginForm extends React.Component {\n    \n    login = async (e) => {\n        e.preventDefault();\n\n        let username = document.getElementById(\"username\").value;\n        let password = document.getElementById(\"password\").value;\n        let loggedIn = await PayrollPalClient.login({username: username, password: password})       \n\n        if(loggedIn) {\n            this.props.context.authenticate()\n            this.props.history.push(\"/core\")     \n        }\n\n    }\n    render(){\n        return(\n            <div className=\"pt-4 login-form\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                    </div>\n                    <div className=\"p-4 login-form-container\">\n                    <h1 className=\"\">Login</h1>\n                        <form id=\"form\" onSubmit={this.login}>    \n                            <div className=\"row\">\n                                <div className=\"pt-3 col-12\">\n                                    <input className=\"mb-4 pt-mono\" id=\"username\" type=\"text\" placeholder=\"Username\" />\n                                </div>\n                                <div className=\"col-12\">\n                                    <input className=\"pt-mono\" id=\"password\" type=\"password\" placeholder=\"Password\" />\n                                </div>\n                            </div>\n                            <button type=\"submit\" className=\"btn px-3 mt-4 pt-mono pill btn-orange\">Login</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            \n        )\n    }\n}\n\nexport default withRouter((props) => (\n    <AuthContext.Consumer>\n        {\n            (context) => <LoginForm context={context} {...props} />\n        }\n    </AuthContext.Consumer>\n))"]},"metadata":{},"sourceType":"module"}